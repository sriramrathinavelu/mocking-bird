<!doctype html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=description content="Framework to help prepare for interviews with mock tests"><meta name=viewport content="width=device-width, initial-scale=1"><title>Result</title><link rel=manifest href=manifest.json><meta name=mobile-web-app-capable content=yes><meta name=application-name content="Web Starter Kit"><link rel=icon sizes=192x192 href=images/touch/chrome-touch-icon-192x192.png><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=apple-mobile-web-app-title content="Web Starter Kit"><link rel=apple-touch-icon href=images/touch/apple-touch-icon.png><meta name=msapplication-TileImage content=images/touch/ms-touch-icon-144x144-precomposed.png><meta name=msapplication-TileColor content=#3372DF><meta name=theme-color content=#3372DF><link rel=stylesheet href=/static/mocktest/styles/test.min.css><script src=//code.jquery.com/jquery-1.10.2.js></script><script src=//code.jquery.com/ui/1.11.4/jquery-ui.js></script><script>
      function getURLParameter(name) {
        return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,''])[1].replace(/\+/g, '%20'))||null;
      }

      /* jquery preserves line break */
        $.valHooks.textarea = {
          get: function( elem ) {            
            return elem.value.replace( /\r?\n/g, "\r\n" );
          }
        };


      $(function () {

        /*JQM*/
        $(document).on('click', '.popup-source', function() {
    
          //Getting the variable's value from a link 
          var loginBox = $(this).attr('href');

          //Fade in the Popup
          $(loginBox).fadeIn(300);
          
          //Set the center alignment padding + border see css style
          var popMargTop = ($(loginBox).height() + 24) / 2; 
          var popMargLeft = ($(loginBox).width() + 24) / 2; 
          
          $(loginBox).css({ 
              'margin-top' : -popMargTop,
              'margin-left' : -popMargLeft
          });
          
          // Add the mask to body
          $('body').append('<div id="mask"></div>');
          $('#mask').fadeIn(300);
          
          return false;
        });

        // When clicking on the button close or the mask layer the popup closed
        /*
        $('a.close, #mask').live('click', function() { 
          $('#mask , .login-popup').fadeOut(300 , function() {
            $('#mask').remove();  
          }); 
        return false;
        });
        */

        $('body').on('click', '#mask', function() { 
          $('#mask , .popup').fadeOut(300 , function() {
            $('#mask').remove();  
          }); 
          return false;
        });

        $('body').on('click', 'a.close', function() { 
          $('#mask , .popup').fadeOut(300 , function() {
            $('#mask').remove();  
          }); 
          return false;
        });
        
        /*JQM*/

        $(document).keydown(function(e) {
          switch(e.which) {
            case 37: // left
            $("#prevq").trigger("click");
            break;

            case 38: // up
            break;

            case 39: // right
            $("#nextq").trigger("click");
            break;

            case 40: // down            
            break;

            default: return; // exit this handler for other keys
          }
          // e.preventDefault(); // prevent the default action (scroll / move caret)
        });      

        $("#answer-right-wrong").buttonset();

        /*Get the test id*/
        $("#testId").val(getURLParameter("testId"));
        $("#evalId").val("{{evalId|safe}}");        

        var questions={{questions|safe}};
        /* Get the current question */
        var currentQ=questions[0]['currentquestion'];
        /* Set the current question */
        $("#currentQ").val(currentQ);
        $("#companyName").val(questions[0]['companyname']);
        $("#positionName").val(questions[0]['positionname']);
        $("#totalQuestions").val(questions[0]['totalquestions']);

        $("#radio-correct").next().removeClass("ui-state-active");
        $("#radio-partially-correct").next().removeClass("ui-state-active");
        $("#radio-wrong").next().removeClass("ui-state-active");
        if (questions[currentQ].result == 4) {
          /* WRONG */
          $("#radio-wrong").next().addClass("ui-state-active");
        }
        if (questions[currentQ].result == 5) {
          /* PARTIALLY-CORRECT */
          $("#radio-partially-correct").next().addClass("ui-state-active");
        }
        if (questions[currentQ].result == 6) {
          /* CORRECT */
          $("#radio-correct").next().addClass("ui-state-active");
        }
        /* Load the current question */
        $("#question").html(
          "<pre style=\"white-space: pre-wrap;\">" +
          parseInt(currentQ + 1).toString() + ") " +
          questions[currentQ]['question'] +
          "</pre>"
        );
        /* Load the current answer */
        $("#answer-space").html(
          "<pre style=\"white-space: pre-wrap;\">" +
          questions[currentQ]['givenanswer'] +
          "</pre>"
        );
        $("#correct-answer").html(
          "<pre style=\"white-space: pre-wrap;\">" +
          questions[currentQ]['correctanswer'] +
          "</pre>"
        );
        $("#mentor-comment").val(          
          questions[currentQ]['mentorcomment']
        );
        /* Functionality for previous question */
        $("#prevq").click(function(e){              
          if($("#prevq").hasClass("disabled")) {           
            e.preventDefault();
          } else {
            /* Update DB*/
            autoSave();
            /* Update Locally*/
            var curQ = parseInt($("#currentQ").val());
            questions[curQ]['mentorcomment']=$('#mentor-comment').val();            
            /*Update the next Question*/
            /*Update the hidden currentQ*/
            var prevQ = curQ;
            $("#navbarQuestion"+prevQ).trigger("click");
          }
        });
        /* Functionality for next question */
        $("#nextq").click(function(e){              
          if($("#nextq").hasClass("disabled")) {           
            e.preventDefault();
          } else {
            /* Update DB*/
            autoSave();
            /* Update Locally*/
            var curQ = parseInt($("#currentQ").val());            
            questions[curQ]['mentorcomment']=$('#mentor-comment').val();            
            /*Update the next Question*/
            /*Update the hidden currentQ*/
            var nextQ = curQ+2;
            $("#navbarQuestion"+nextQ).trigger("click"); 
          }
        });
        /* Previous question display control */
        $("#prevqNum").change(function(){
          if (parseInt(
                $("#prevqNum").html())<1) {            
            $("#prevq").addClass("disabled");            
            $("#prevqNum").html("--");
          } else {
            $("#prevq").removeClass("disabled");
          }
        });
        /* Next question display control */
        $("#nextqNum").change(function(){
          if (parseInt(
                $("#nextqNum").html()
                )>questions.length) {
            $("#nextq").addClass("disabled");            
            $("#nextqNum").html("--");
          } else {            
            $("#nextq").removeClass("disabled");
          }
        });
        /* Update previous question number */
        $("#prevqNum").html(          
          currentQ
        );
        $("#prevqNum").trigger("change");
        /* Update next question number */
        $("#nextqNum").html(          
          currentQ+2
        );
        $("#nextqNum").trigger("change");

        $("#radio-correct").click(function(){
          var curQ = parseInt($("#currentQ").val()); 
          questions[curQ].result=6;
          autoSave();
        });
        $("#radio-partially-correct").click(function(){
          var curQ = parseInt($("#currentQ").val()); 
          questions[curQ].result=5;
          autoSave();
        });
        $("#radio-wrong").click(function(){
          var curQ = parseInt($("#currentQ").val()); 
          questions[curQ].result=4;
          autoSave();
        });

        var autoSave = function(){
          var result = 0;
          if ($("#radio-correct").next().hasClass("ui-state-active"))
            result = 6;
          if ($("#radio-partially-correct").next().hasClass("ui-state-active"))
            result = 5;
          if ($("#radio-wrong").next().hasClass("ui-state-active"))
            result = 4;
          $.get("/ajaxUtil/saveComment.html?testId=" +
              $("#testId").val() + "&evalId=" + $("#evalId").val() + 
              "&currentQ=" + $("#currentQ").val() + "&comment=" + 
              escape($("#mentor-comment").val()) + "&totalQuestions=" +
              $("#totalQuestions").val() + "&result=" + result, function(data, status){
                if (data === 'done') {
                  $("#evaluate-evaluate").removeClass("disabled");
                  $("#evaluate-evaluate").addClass("popup-source")                  
                }
                else if (data === 'ok') {

                } else {
                  /*Need a provision to display errors*/
                  /*on page*/
                  alert("Error answer not saved!");
                }
            });
        };

        var interval = 1000 * 30;

        setInterval(autoSave, interval);



        /* Logic for questions in navbar */
        $.each(questions, function(index, value){
          index = index+1;
          $("#questionsList").append(
            "<li id=\"navbarLi" + index + "\"><a href=\"#\" id=\"navbarQuestion" +
            index +
            "\">Question " + 
            index +
            "</a></li>"
          );
          $("#navbarQuestion"+index).click(function(){
            /* Update question number*/
            $("#currentQ").val(index-1);
            /* Fetch question */
            $("#question").html(
              "<pre style=\"white-space: pre-wrap;\">" + 
              parseInt(index).toString() + ") " +
              questions[index-1]['question'] +
              "</pre>"
            );
            /* Load answer*/
            $("#answer-space").html(
              "<pre style=\"white-space: pre-wrap;\">" +
              questions[index-1]['givenanswer'] +
              "</pre>"
            );
            $("#correct-answer").html(
              "<pre style=\"white-space: pre-wrap;\">" +
              questions[index-1]['correctanswer'] +
              "</pre>"
            );
            $("#mentor-comment").val(
              questions[index-1]['mentorcomment']              
            );
            $("#prevqNum").html(
              index-1
            );
            $("#prevqNum").trigger("change");
            $("#nextqNum").html(          
              index+1
            );
            $("#radio-correct").next().removeClass("ui-state-active");
            $("#radio-partially-correct").next().removeClass("ui-state-active");
            $("#radio-wrong").next().removeClass("ui-state-active");
            if (questions[index-1].result == 4) {
              /* WRONG */
              $("#radio-wrong").next().addClass("ui-state-active");
            }
            if (questions[index-1].result == 5) {
              /* PARTIALLY-CORRECT */
              $("#radio-partially-correct").next().addClass("ui-state-active");
            }
            if (questions[index-1].result == 6) {
              /* CORRECT */
              $("#radio-correct").next().addClass("ui-state-active");
            }
            $("#nextqNum").trigger("change");
          });                              
        });    
        $("#mentor-verdict").click(function(e){
          if ($("#mentor-verdict").hasClass("disabled")) {
            console.log("Suppressed");
            e.preventDefault();
          }
        })
        $("#mentor-cancel-yes-button").click(function(){
          console.log("Cancelling Evaluation");
          $.get("../ajaxUtil/cancelEvaluation.html?testId="+$("#testId").val()+"&evalId="+$("#evalId").val()+"&companyName="+$("#companyName").val()+"&positionName="+$("#positionName").val(), function(data, status){
            if (data != "ok") {
              alert("Cancelling Operation Failed")
            } else {
              window.location="/mentor/search.html"
            }
          });
        });    
        $("#mentor-pass-button").click(function(){
          console.log("clicked");
          autoSave();
          $.get("/ajaxUtil/saveEvaluationResult.html?testId="+$("#testId").val()+"&result=pass"+"&evalId="+$("#evalId").val(), function(data, status){
            if (data != "ok") {
              alert("Error! submission failed")
            } else {
              window.location="/mentor/search.html"
            }
          });      
        });

        $("#mentor-fail-button").click(function(){
          autoSave();
          $.get("/ajaxUtil/saveEvaluationResult.html?testId="+$("#testId").val()+"&result=fail"+"&evalId="+$("#evalId").val(), function(data, status){
            if (data != "ok") {
              alert("Error! submission failed")
            } else {  
              window.location="/mentor/search.html"
            }
          });      
        });
      });
      
    </script></head><body class=test-screen><div class=mediachecker></div><div class="roboto-font full-screen"><div class=offcanvas-container><h4>Questions</h4><ul id=questionsList></ul></div><div class=top><img class=menu src=/static/mocktest/images/icons/questions-list1.png alt="Questions List" style="margin-left: 10px"><div id=time class=right-align><div id=defaultCountdown></div></div></div><div class=acting-main><hr id=linesep-1 class=mobile><div class=middle-item><div class=middle-item id=question></div><div>Given Answer</div><div id=answer-space class="full-width middle-item bordered-div" style="font-family: sans-serif;"></div><div>Correct Answer</div><div id=correct-answer class="full-width middle-item bordered-div" style="font-family: sans-serif;"></div><div>Your comment</div><textarea id=mentor-comment class="full-width middle-item answer-space" style="font-family: sans-serif;"></textarea><div class=centered-div id=answer-right-wrong><input type=radio id=radio-correct name=radio-right-wrong><label for=radio-correct>Correct</label> <input type=radio id=radio-partially-correct name=radio-right-wrong><label for=radio-partially-correct>Partially Correct</label> <input type=radio id=radio-wrong name=radio-right-wrong><label for=radio-wrong>Incorrect</label></div><div class=footerbar><section class=styleguide__article-nav><div class=container-medium><nav class=article-nav><a id=prevq href=# class="article-nav-link article-nav-link--prev"><p id=prevqNum class="article-nav-count color-orange-bg-before">01</p></a> <a id=nextq href=# class="article-nav-link article-nav-link--next"><p id=nextqNum class="article-nav-count color-orange-bg-before">03</p></a></nav></div></section></div></div><input type=hidden id=currentQ> <input type=hidden id=testId> <input type=hidden id=evalId> <input type=hidden id=companyName> <input type=hidden id=positionName> <input type=hidden id=totalQuestions><div style=display:flex;><a href=#mentor-cancel-confirm class="button--mockingone centered-button popup-source">Cancel</a> <a href=#mentor-verdict id=evaluate-evaluate class="button--mockingone centered-button disabled">Evaluate</a></div></div></div><div id=mentor-cancel-confirm class=popup><a href=# class=close><img src=/static/mocktest/images/icons/close.png class=btn_close title="Close Window" alt=Close></a><form method=post class=popup-body action=#><fieldset class=textbox><div class=middle>This will exit you from evaluation and you will lose all the progress you have made. Do you wish to cancel?</div><div class=middle><button id=mentor-cancel-yes-button class="submit button middle" type=button>Yes! Cancel</button></div></fieldset></form></div><div id=mentor-verdict class=popup><a href=# class=close><img src=/static/mocktest/images/icons/close.png class=btn_close title="Close Window" alt=Close></a><form method=post class=popup-body action=#><fieldset class=textbox><div class=middle>Thanks for your comments. Now it's the moment of truth. What do you think</div><div class=middle><button id=mentor-pass-button class="submit button middle" type=button>Pass</button> <button id=mentor-fail-button class="submit button middle" type=button>Fail</button></div></fieldset></form></div><script src=static/mocktest/scripts/test.min.js></script></body></html>